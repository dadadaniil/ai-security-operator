import os
from pydantic_settings import BaseSettings
from typing import Optional, List
from dotenv import load_dotenv

# Load environment variables from .env file if present
load_dotenv()

class Settings(BaseSettings):
    """Application settings loaded from environment variables"""
    
    # API settings
    API_V1_STR: str = "/api/v1"
    PROJECT_NAME: str = "Metasploit Exploiter API"
    VERSION: str = "1.0.0"
    
    # CORS settings
    BACKEND_CORS_ORIGINS: List[str] = ["*"]
    
    # Metasploit settings
    MSF_HOST: str = os.getenv("MSF_HOST", "metasploit")
    MSF_PORT: int = int(os.getenv("MSF_PORT", "55553"))
    MSF_USER: str = os.getenv("MSF_USER", "msf")
    MSF_PASS: str = os.getenv("MSF_PASS", "msf")
    
    # Default timeout for operations (seconds)
    DEFAULT_TIMEOUT: int = 60
    
    # API server settings
    HOST: str = "0.0.0.0"
    PORT: int = int(os.getenv("PORT", "8000"))
    
    # Logging settings
    LOG_LEVEL: str = os.getenv("LOG_LEVEL", "INFO")

    class Config:
        case_sensitive = True


# Create settings instance
settings = Settings() 